<h1>Сравнение Garnet и Redis</h1>

```docker compose up -d``` для запуска хранилищ в контейнерах (внешние порты: 6369 - Redis; 6379 - Garnet, внутренние - 6379 у обоих)

Далее
```dotnet run -c release```
для запуска самих бенчмарков. В режиме отладки компилятор не применяет оптимизации кода, что негативно сказывается на производительности.

Из-за JIT-компилятора первый вызов медленнее последующих (так как компилятор
компилирует методы лишь в момент первого использования), поэтому используются прогревочные вызовы

В произвольный момент времени выполнение программы может быть приостановлено сборщиком мусора. Это тоже негативно влияет
на точность измерений. Минимизировать вероятность этого можно, вызвав сборщик мусора принудительно перед тем, как начинать 
засекать время.

Пока есть 3 бенчмарка:
<ul>
<li>GetSetBenchmark</li>
</ul>

| Method        | Mean     | Error     | StdDev    | Allocated |
|-------------- |---------:|----------:|----------:|----------:|
| Redis_SetGet  | 1.115 ms | 0.0215 ms | 0.0190 ms |     684 B |
| Garnet_SetGet | 1.234 ms | 0.0162 ms | 0.0152 ms |     686 B |


<ul>
<li>BulkSetGetBenchmark (нужно сделать корректнее, так как Redis в нём применяет не все оптимизации)</li>
</ul>

| Method            | Count | Mean     | Error    | StdDev   | Gen0      | Gen1      | Allocated  |
|------------------ |------ |---------:|---------:|---------:|----------:|----------:|-----------:|
| Redis_BulkSetGet  | 1000  |  1.127 s | 0.0180 s | 0.0168 s |         - |         - |  527.93 KB |
| Garnet_BulkSetGet | 1000  |  1.217 s | 0.0125 s | 0.0117 s |         - |         - |  527.93 KB |
| Redis_BulkSetGet  | 10000 | 10.745 s | 0.1839 s | 0.2189 s | 1000.0000 | 1000.0000 | 5309.18 KB |
| Garnet_BulkSetGet | 10000 | 11.811 s | 0.0953 s | 0.0891 s | 1000.0000 | 1000.0000 | 5309.18 KB |


<ul>
<li>ParallelBenchmark</li>
</ul>


| Method          | Operations | Mean      | Error     | StdDev    | Median    | Gen0      | Gen1      | Gen2     | Allocated  |
|---------------- |----------- |----------:|----------:|----------:|----------:|----------:|----------:|---------:|-----------:|
| Redis_Parallel  | 1000       |  4.667 ms | 0.1201 ms | 0.3388 ms |  4.639 ms |  109.3750 |   62.5000 |   7.8125 |  655.25 KB |
| Garnet_Parallel | 1000       |  5.119 ms | 0.3445 ms | 1.0157 ms |  4.581 ms |  117.1875 |   74.2188 |   3.9063 |  655.29 KB |
| Redis_Parallel  | 10000      | 38.318 ms | 1.4928 ms | 4.4015 ms | 37.847 ms | 1125.0000 | 1062.5000 |  62.5000 | 6724.94 KB |
| Garnet_Parallel | 10000      | 34.061 ms | 0.6785 ms | 1.8688 ms | 33.990 ms | 1125.0000 | 1062.5000 | 125.0000 | 6737.82 KB |

Пока по итогам получается, что Garnet стабильнее, чем Redis. На параллельных вызовах даже
значительно быстрее. Однако вызывает в 2 раза больше Gen2 GC на 10k операций. Возможно, Garnet аллоцирует объекты,
которые живут дольше (или попадают в старшее поколение быстрее), но вообще надо провести поточнее и добавить бенчмарков